"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Converts a CSV string to a 2D array of objects, the first row of the string is used as the title row.
 *
 * @param {string} data
 * @param {string} [delimiter=',']
 * @returns
 */
var CSVToJSON = function (data, delimiter) {
    if (delimiter === void 0) { delimiter = ','; }
    var titles = data.slice(0, data.indexOf('\n')).split(delimiter);
    return data
        .slice(data.indexOf('\n') + 1)
        .split('\n')
        .map(function (v) {
        var values = v.split(delimiter);
        // @ts-ignore
        return titles.reduce(function (obj, title, index) { return ((obj[title] = values[index]), obj); }, {});
    });
};
exports.default = CSVToJSON;
